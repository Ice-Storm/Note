垃圾收集
=======

在垃圾收集普及之前，内存区域的取得和释放完全是程序员的责任。即使是现在，C 或者 C++这些编程语言也还是没有垃圾收集功能。

手动管理内存的方法，很容易发生各种问题：

- 悬挂指针
- 内存泄露
- 二重释放

管理的内存越多，出问题的几率也就越大，人管理不过来的话，就应该让机器来管理，垃圾收集也随着诞生。

当时编程语言 Lisp 也刚刚诞生，Const 单元要生成大量对象，由人管理是不可能的事情，垃圾收集就是为了解决这一问题诞生的。从那以后，在 Lisp 与受其影响的语言中，垃圾收集成为常识。

#对垃圾收集的一些观念

##垃圾收集慢
认为垃圾收集慢的观念只有一半是对的，计算机无法准确判断内存区域是否还要使用，比起人工准确指定释放内存，收集器还需要进行一些多余的工作，猜测和判断哪些内存可以释放。

但是即使在人工明确释放内存的场合，内存管理还是需要一定开销，有研究表明在某些条件下垃圾收集比手工管理还更快。

##垃圾收集可靠性低
垃圾收集可靠性低的观念可能是由于某些收集程序的质量低造成的。一个良好的收集器肯定比手工管理可靠。

#指标
评价垃圾收集器有两个指标：

- 吞吐量：垃圾收集处理在全部执行时间中所占的比例。
- 暂停时间：是一次垃圾收集处理所中断的时间。

#垃圾收集算法
四种基本算法：

- 引用计数方法
- 标记和扫除方法
- 标记和紧缩方法
- 复制方法

#多种垃圾收集算法
在四种基本算法之上还有各种变形和组合算法：

- 分代垃圾收集
- 保守垃圾收集
- 增量垃圾收集
- 并行垃圾收集
- 位图标识
这些技术的组合也是有可能的。




