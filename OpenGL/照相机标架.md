照相机标架
=========
[TOC]

照相机标架也称眼标架，是OpenGL的一个很重要的标架，从应用程序员的角度看，OpenGL从两个标架开始：眼标架和对象标架。模-视变换矩阵是对象标架在眼标架下的表示。因此，模-视矩阵是系统状态的一部分，所以总是有一个当前的照相机标架和一个当前的对象标架。

初始的模-视矩阵是单位矩阵，所以此时的对象标架和眼标架是相同的。因此，如果不改变模-视变换矩阵，那么我们使用的标架是眼标架。照相机位于眼标架的原点，照相机坐标系的三个基向量的方向分别对应与：1）照相机的观察正向是y轴正方向；2）照相机正对方向是z轴负方向；3）另一个正交的方向x轴，x轴的正方向应使得三条轴构成右手坐标系。

![camera-and-object-frames][1]

如果相对于照相机标架重新定义了新的标架，那么利用相应的齐次坐标变换，就可以在新的标架下建模。因为标架变换是由模-视变换矩阵表示的，而模-视变换矩阵可以保存，所以我们能够保存标架，而且只要改变当前的模-视变换矩阵，就可以在多个标架之间转换。

因为模-视变换矩阵同时也确定了照相机相对于对象标架的位置和方向，所以把那个标架看成固定的通常可以视其是否方便而定。大多数情况下把 **照相机标架看做是固定的**，其他标架相对于照相机移动，但是也可以采用其他观点，只要方便思考就行。

在默认情况下，照相机标架和对象标架是重合的，并且照相机正对的方向是z轴的负方向，在大多数应用程序中，把对象指定在原点附近是很自然的，例如正方形的中心位于原点，或者一组对象的"质心"位于原点。我们通常把照相机设置成只能对它前面的对象成像，这个观察条件也是很自然的。因此，为了使生成的图像包含全部对象，必须让照相机远离对象，或者让对象远离照相机。等价的讲，我们可以相对于对象标架移动照相机标架。

如果把照相机标架看成是固定的，并且在照相机标架下通过模-视变化矩阵来指定对象标架。那么用户在建模时使用的是世界坐标系，并且仍然像以前那样摆放对象。对象标架和眼标架之间的关系包含在模-视变换矩阵中。为了把对象放到照相机的前面，也可以通过修改顶点来改变对象的位置，但是这一般不如设置模-视变换矩阵方便。

需要注意的是，在使用glOrtho这类的投影函数时，会生成新的变换矩阵右乘当前投影矩阵，这类函数中的参数都是以照相机标架为标架，但是涉及到z轴的参数时，有时会以照相机的朝向为正方向，也就是刚和z轴正方向相反。还有一点要注意，对于透视投影，**投影中心是照相机标架原点，而投影平面一般是近剪裁面**。





[1]: images/camera-and-object-frames.png